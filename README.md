# Stable Diffusion Bot

![](https://img.shields.io/github/license/mak448a/Stable-Diffusion-Bot)
![](https://img.shields.io/github/contributors/mak448a/Stable-Diffusion-Bot)
![](https://img.shields.io/github/repo-size/mak448a/Stable-Diffusion-Bot)

This is an AI image generator Discord bot written in Python. It has a chatbot that uses ChatGPT or GPT4All
that you can talk to by pinging your bot!

Image providers:
- Imaginepy
- Stable Horde
- Pollination

Stable Horde Models:
- Stable Diffusion
- Anything Diffusion

All of these are online providers.
As a result, you will not need a powerful computer!

**Notes**

When you use Stable Horde to generate images, your prompts are sent to Stable Horde, as listed in their [privacy policy](https://stablehorde.net/privacy).

The chatbot may not work as expected if multiple users are chatting with it at once.

**Run on**

[![Replit](https://img.shields.io/badge/replit-667881?style=for-the-badge&logo=replit&logoColor=red)](https://replit.com/new/github/mak448a/Stable-Diffusion-Bot)

Note that there will be no chatbot when running on Replit, due to the GPT4All model going over the storage limit.

![](demo.png)

## Prerequisites
This project assumes that:
- Python 3.8+ is installed and is on your PATH
- Pip is installed
- Git is installed
- You know how to create a Discord Bot account
- You know JSON syntax (It's basically a Python Dictionary)


## Setup
1. Create a Discord Bot and grab the token. Make sure to switch on Message Content Intent in the `Bot` tab of the [Developer Portal](https://discord.com/developers/applications).
2. Grab an API key from Stable Horde [at their register page](https://stablehorde.net/register).
3. Rename `example.env` to `.env` and place your bot token and your API key in. It should look something like this:
```
API_KEY=0000000000
BOT_TOKEN=abc132
```
2. Get a bot token from the [Discord Developer Portal](https://discord.com/developers/applications) and place it in `BOT_TOKEN` in your `.env` file.
Make sure to switch on Message Content Intent in the Bot tab of the Developer Portal.
3. Clone some repositories:
```shell
git clone 'https://github.com/mak448a/horde_module' --depth=1
git clone 'https://github.com/mak448a/module_gpt4free/' --depth=1
git clone 'https://github.com/mak448a/gpt4free' --depth=1
```
4. Create venv and install dependencies:

Linux or MacOS
```shell
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
pip install -r module_gpt4free/requirements.txt
```
Windows
```shell
python -m venv venv
venv\Scripts\activate.bat
pip install -r requirements.txt
pip install -r module_gpt4free/requirements.txt
```
5. Configure your bot by renaming `example_config.json` to `config.json` and edit as necessary. To change the bot to GPT4All, set `"model"` to `"GPT4All"`
6. Run the bot and invite it with the link it provides.
7. Type / in the message box and start messing around with the commands!


## Generate images faster with Stable Horde
Stable Horde uses Kudos to rank users on a queue. The more Kudos you have, the higher you are on the generation queue.
You get Kudos by rating images and/or generating images for Stable Horde
on your local hardware.
To get more Kudos, first stick your api key [here](https://tinybots.net/artbot/settings).
Then, rate some images generated by other users [here](https://tinybots.net/artbot/rate).
After rating for a few minutes, you will have more Kudos!
**IMPORTANT: When an image says, "This rating must be x," you must rate it that. This picture is used as a Captcha to avoid spam.**
